



<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Secure Network and Wallet Configuration</title>

    <!-- CSS -->
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css' rel='stylesheet'>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href='../../_static/main.css' rel='stylesheet'>
    <link href='../../_static/style.css' rel='stylesheet'>
    <link href='../../_static/doxygen.css' rel='stylesheet'>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

    <!-- Sphinx search -->
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <!-- Transifex -->
    <script type="text/javascript">
      window.liveSettings = {
        api_key: "bbf87af0641e4bbf89c98088d48e0449",
      };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>

    <!-- title card -->
    <link  href='../../_static/title-card.css' rel='stylesheet'>
    <script src='../../_static/script.js'></script>
    
    <!-- Sphinx search -->
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Graphene Technical Documentation  documentation"
          href="../../_static/opensearch.xml"/>

    <!-- Meta -->
    <meta content="Graphene Documentation" property="og:site_name">
    <meta content="Graphene Documentation" property="og:title">
    <meta content="website" property="og:type">
    <meta content="Graphene Documentation" name="description">
    <meta content="Graphene Documentation" property="og:description">
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68381245-1', 'auto');
  ga('send', 'pageview');

</script>

 </head>
 <body class='no-literate'>


 <div class='title-area title-card' style='background-image: url(https://bitshares.org/images/bg.jpg)'>
   <div class='in'>
     <div class='headline'>
       <h1>Secure Network and Wallet Configuration</h1>
 
     </div>
   </div>
 </div>

 <div class='header'>
   <div class='left navlinks'>
    
        <div class="top">
         <div class="title">top</div>
         <span><a class="uplink" href="../../index.html">Contents</a></span>
        </div>

   </div>
   <!--
    <div class='right'>
<div id="searchbox" style="display: none" role="search">
 <form class="search" action="../../search.html" method="get">
   <input type="text" name="q" />
   <input type="submit" value="Go" />
   <input type="hidden" name="check_keywords" value="yes" />
   <input type="hidden" name="area" value="default" />
 </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
   </div>
   -->
 </div>

 <div class='content-root'>
  <!-- menu bar -->
  <div class='menubar'>
   <div class='section'>
    <a href="../..//index.html"><img src="../../_static/grphn-logo.svg" height="48" /></a>

    <a href="../..//bitshares/index.html"><img src="../../_static/bitshares-logo.png" height="48" /></a>

    <a href="../..//muse/index.html"><img src="../../_static/MUSE_logo_transp_v1.png" height="48" /></a>
   </div>
   <div class='menu section'>
    <div id="toc">
      <h3>Table Of Contents</h3>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="../../bitshares/index.html">BitShares 2.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../muse/index.html">MUSE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Graphene API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../blockchain/index.html">Blockchain Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../namespaces/index.html">Namespaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testnet/index.html">Testnets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently Asked Questions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../meta/index.html">Meta</a></li>
</ul>

    </div>
   </div>
   <div class='bottom section'>
   <!--
     <a href='https://github.com/cryptonomex/graphene'>View on GitHub</a><br>
     <a href='https://github.com/cryptonomex/graphene/blob/master/README.md' target='_blank'>See .md source</a>
   -->
   </div>
  </div>
  <div class='content'>
   
  <div class="section" id="secure-network-and-wallet-configuration">
<h1>Secure Network and Wallet Configuration<a class="headerlink" href="#secure-network-and-wallet-configuration" title="Permalink to this headline">¶</a></h1>
<p>The delayed full node should be in the same <em>local</em> network as the trusted full
node is in the same network and has internet access. Hence we will work with
the following IPs and open the corresponding RPC ports:</p>
<ul>
<li><dl class="first docutils">
<dt>Trusted Full Node:</dt>
<dd><ul class="first last simple">
<li>extern: internet access <strong>required</strong></li>
<li>intern: <code class="docutils literal"><span class="pre">192.168.0.100</span></code></li>
<li>port: <code class="docutils literal"><span class="pre">8090</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Delayed Full Node:</dt>
<dd><ul class="first last simple">
<li>extern: <strong>no</strong> internet access required</li>
<li>intern: <code class="docutils literal"><span class="pre">192.168.0.101</span></code></li>
<li>port: <code class="docutils literal"><span class="pre">8090</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Wallet:</dt>
<dd><ul class="first last simple">
<li>extern: <strong>no</strong> internet access required</li>
<li>intern: <code class="docutils literal"><span class="pre">192.168.0.102</span></code></li>
<li>port: <code class="docutils literal"><span class="pre">8092</span></code></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Let&#8217;s go into more detail how to set these up.</p>
<div class="section" id="trusted-full-node">
<h2>Trusted Full Node<a class="headerlink" href="#trusted-full-node" title="Permalink to this headline">¶</a></h2>
<p>For the trusted full node, the default settings can be used.  For later, we
will need to open the RPC port and listen to an IP address to connect the
delayed full node to.</p>
<div class="highlight-sh"><div class="highlight"><pre>./programs/witness_node/witness_node --rpc-endpoint<span class="o">=</span><span class="s2">&quot;192.168.0.100:8090&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A <em>witness</em> node is identical to a full node if no authorized
block-signing private key is provided.</p>
</div>
</div>
<div class="section" id="delayed-full-node">
<h2>Delayed Full Node<a class="headerlink" href="#delayed-full-node" title="Permalink to this headline">¶</a></h2>
<p>The delayed full node will need the IP address and port of the p2p-endpoint
from the trusted full node and the number of blocks that should be delayed.  We
also need to open the RPC/Websocket port (to the local network!) so that we can
interface using RPC-JSON calls.</p>
<p>For our example and for 10 blocks delaye (i.e. 30 seconds for 3 second block
intervals), we need:</p>
<div class="highlight-sh"><div class="highlight"><pre>./programs/delayed_node/delayed_node --trusted-node<span class="o">=</span><span class="s2">&quot;192.168.0.100:8090&quot;</span> <span class="se">\</span>
                                     --rpc-endpoint<span class="o">=</span><span class="s2">&quot;192.168.0.101:8090&quot;</span>
                                     -d delayed_node <span class="se">\</span>
                                     -s <span class="s2">&quot;0.0.0.0:0&quot;</span> <span class="se">\</span>
                                     --p2p-endpoint<span class="o">=</span><span class="s2">&quot;0.0.0.0:0&quot;</span> <span class="se">\</span>
                                     --seed-nodes <span class="s2">&quot;[]&quot;</span>
</pre></div>
</div>
<p>We could now connect via RPC:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">192.168.0.100:8090</span></code> : The trusted full node exposed to the internet</li>
<li><code class="docutils literal"><span class="pre">192.168.0.101:8090</span></code> : The delayed full node not exposed to the internet</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For security reasons, an exchange should only interface with the delayed
full node.</p>
</div>
<p>For obvious reasons, the trusted full node is should be running before
attempting to start the delayed full node.</p>
<p>For customer deposits, we will interface to the delayed node&#8217;s API using
<cite>192.168.0.101:8090</cite>.</p>
</div>
<div class="section" id="wallet">
<h2>Wallet<a class="headerlink" href="#wallet" title="Permalink to this headline">¶</a></h2>
<p>The wallet initiates outgoing transfers and has to connect to your trusted node
because the <em>delayed</em> node has no P2P connections. We furthermore open up a
RPC-JSON-HTTP port to be able to interface with API requests. The wallet can be
connected to the trusted node and listens for RPC requests on port <code class="docutils literal"><span class="pre">8092</span></code>
with:</p>
<div class="highlight-sh"><div class="highlight"><pre>./programs/cli_wallet/cli_wallet --server-rpc-endpoint<span class="o">=</span><span class="s2">&quot;ws://192.168.0.100:8090&quot;</span> <span class="se">\</span>
                                 --rpc-http-endpoint<span class="o">=</span><span class="s2">&quot;192.168.0.102:8092&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For security reasons, the wallet should only listen to localhost or
the local network and should <strong>NEVER</strong> be exposed to the internet.</p>
</div>
<p>For customer withdrawals, we will interface to the wallet&#8217;s API using
<cite>192.168.0.102:8092</cite>.</p>
</div>
</div>


  </div>
 </div>

 <script>var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>
 <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
 </body>
</html>
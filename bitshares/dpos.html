



<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Delegated Proof of Stake</title>

    <!-- CSS -->
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css' rel='stylesheet'>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href='../_static/main.css' rel='stylesheet'>
    <link href='../_static/style.css' rel='stylesheet'>
    <link href='../_static/doxygen.css' rel='stylesheet'>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

    <!-- Sphinx search -->
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="searchindex.js"></script>
    <!-- Transifex -->
    <script type="text/javascript">
      window.liveSettings = {
        api_key: "bbf87af0641e4bbf89c98088d48e0449",
      };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>

    <!-- title card -->
    <link  href='../_static/title-card.css' rel='stylesheet'>
    <script src='../_static/script.js'></script>
    
    <!-- Sphinx search -->
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Graphene Technical Documentation  documentation"
          href="../_static/opensearch.xml"/>

    <!-- Meta -->
    <meta content="Graphene Documentation" property="og:site_name">
    <meta content="Graphene Documentation" property="og:title">
    <meta content="website" property="og:type">
    <meta content="Graphene Documentation" name="description">
    <meta content="Graphene Documentation" property="og:description">
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68381245-1', 'auto');
  ga('send', 'pageview');

</script>

 </head>
 <body class='no-literate'>


 <div class='title-area title-card' style='background-image: url(https://bitshares.org/images/bg.jpg)'>
   <div class='in'>
     <div class='headline'>
       <h1>Delegated Proof of Stake</h1>
 
     </div>
   </div>
 </div>

 <div class='header'>
   <div class='left navlinks'>
    
        <div class="prev">
         <div class="title">previous</div>
         <span><a href="history.html">The History of BitShares</a></span>
        </div>
        <div class="top">
         <div class="title">top</div>
         <span><a class="uplink" href="../index.html">Contents</a></span>
        </div>
        <div class="next">
         <div class="title">next</div>
         <span><a href="papers/index.html">Whitepapers</a></span>
        </div>

   </div>
 </div>

 <div class='content-root'>
  <!-- menu bar -->
  <div class='menubar'>
   <div class='section'>
    <a href="..//index.html"><img src="../_static/grphn-logo.svg" height="48" /></a>

    <a href="..//bitshares/index.html"><img src="../_static/bitshares-logo.png" height="48" /></a>

    <a href="..//muse/index.html"><img src="../_static/MUSE_logo_transp_v1.png" height="48" /></a>
   </div>
   <div class='menu section'>
    <div id="toc">
      <h3>Table Of Contents</h3>
      <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">BitShares 2.0</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#what-is-bitshares">What is BitShares</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="whatis.html">What is BitShares</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html">The History of BitShares</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Delegated Proof of Stake</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#background">Background</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rationale-behind-dpos">Rationale Behind DPOS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#shareholders-are-in-control">Shareholders are in Control</a></li>
<li class="toctree-l5"><a class="reference internal" href="#pooled-mining-as-delegated-proof-of-work">Pooled Mining as Delegated Proof of Work</a></li>
<li class="toctree-l5"><a class="reference internal" href="#reasons-to-not-randomly-select-representatives-from-all-users">Reasons to not randomly select representatives from all users</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#scalability">Scalability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#role-of-delegates">Role of Delegates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-become-a-delegate">How to become a delegate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#voting-algorithm">Voting Algorithm</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#how-do-i-get-votes">How do I get &#8220;votes?&#8221;</a></li>
<li class="toctree-l5"><a class="reference internal" href="#why-use-only-upvotes">Why use only upvotes?</a></li>
<li class="toctree-l5"><a class="reference internal" href="#how-are-votes-counted">How are &#8216;votes&#8217; counted?</a></li>
<li class="toctree-l5"><a class="reference internal" href="#is-there-an-anti-vote">Is there an anti-vote?</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#disincentives-for-attacks">Disincentives for Attacks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-many-witnesses-are-securing-the-network">How many witnesses are securing the network</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dpos-infographic">DPOS Infographic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sources-and-discussions">Sources and Discussions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="papers/index.html">Whitepapers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#guides">Guides</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../muse/index.html">MUSE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/index.html">Integration Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testnet/index.html">Testnets</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../meta/index.html">How to Contribute</a></li>
</ul>

    </div>
   </div>
   <div class="search section">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
   </div>
   <div class='bottom section'>
    <p class="centered">
     <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
    </p>
   </div>
  </div>
  <div class='content'>
   
  <div class="section" id="delegated-proof-of-stake">
<h1>Delegated Proof of Stake<a class="headerlink" href="#delegated-proof-of-stake" title="Permalink to this headline">¶</a></h1>
<p>Delegated Proof of Stake (DPOS) is a new method of securing a crypto-currency&#8217;s network.  DPOS attempts to solve the problems of both Bitcoin&#8217;s traditional Proof of Work system, and the Proof of Stake system of Peercoin and NXT. DPOS implements a layer of technological democracy to offset the negative effects of centralization.</p>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>Delegated proof of stake mitigates the potential negative impacts of centralization through the use of witnesses (formaly called <em>delegates</em>). A total of <cite>N</cite> witnesses sign the blocks and are voted on by those using the network with every transaction that gets made. By using a decentralized voting process, DPOS is by design more democratic than comparable systems. Rather than eliminating the need for trust all together, DPOS has safeguards in place the ensure that those trusted with signing blocks on behalf of the network are doing so correctly and without bias. Additionally, each block signed must have a verification that the block before it was signed by a trusted node. DPOS eliminates the need to wait until a certain number of untrusted nodes have verified a transaction before it can be confirmed.</p>
<p>This reduced need for confirmation produces an increase in speed of transaction times. By intentionally placing trust with the most trustworthy of potential block signers, as decided by the network, no artificial encumbrance need be imposed to slow down the block signing process. DPOS allows for many more transactions to be included in a block than either proof of work or proof of stake systems. DPOS technology allows cryptocurrency technology to transact at a level where it can compete with the centralized clearinghouses like Visa and Mastercard. Such clearinghouses administer the most popular forms of electronic payment systems in the world.</p>
<p>In a delegated proof of stake system centralization still occurs, but it is controlled. Unlike other methods of securing cryptocurrency networks, every client in a DPOS system has the ability to decide who is trusted rather than trust concentrating in the hands of those with the most resources. DPOS allows the network to reap some of the major advantages of centralization, while still maintaining some calculated measure of decentralization. This system is enforced by a fair election process where anyone could potentially become a delegated representative of the majority of users.</p>
</div>
<div class="section" id="rationale-behind-dpos">
<h2>Rationale Behind DPOS<a class="headerlink" href="#rationale-behind-dpos" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Give shareholders a way to delegate their vote to a key (one that doesn&#8217;t control coins &#8216;so they can mine&#8217;)</li>
<li>Maximize the dividends shareholders earn</li>
<li>Minimize the amount paid to secure the network</li>
<li>Maximize the performance of the network</li>
<li>Minimize the cost of running the network (bandwidth, CPU, etc)</li>
</ul>
<div class="section" id="shareholders-are-in-control">
<h3>Shareholders are in Control<a class="headerlink" href="#shareholders-are-in-control" title="Permalink to this headline">¶</a></h3>
<p>The fundamental feature of DPOS is that shareholders remain in control. If they remain in control then it is decentralized. As flawed as voting can be, when it comes to shared ownership of a company it is the only viable way. Fortunately if you do not like who is running the company you can sell and this market feedback causes shareholders to vote more rationally than citizens.</p>
<p>Every shareholder gets to vote for someone to sign blocks in their stead (a representative if you will). Anyone who can gain 1% or more of the votes can join the board. The representatives become a &#8220;board of directors&#8221; which take turns in a round-robin manner, signing blocks. If one of the directors misses their turn, clients will automatically switch their vote away from them. Eventually these directors will be voted off the board and someone else will join. Board members are paid a small token to make it worth their time ensuring uptime and an incentive to campaign. They also post a small bond equal to 100x the average pay they receive for producing a single block. To make a profit a director must have greater than 99% uptime.</p>
</div>
<div class="section" id="pooled-mining-as-delegated-proof-of-work">
<h3>Pooled Mining as Delegated Proof of Work<a class="headerlink" href="#pooled-mining-as-delegated-proof-of-work" title="Permalink to this headline">¶</a></h3>
<p>So how is this different than Bitcoin? With Bitcoin, users must pick a mining pool and each pool generally has 10% or more of the hash power. The operator of these pools is like a representative of the clients pointed at the pool. Bitcoin expects the users to switch pools to keep power from becoming too centralized, but collectively five major pools control the network and manual user intervention is expected if one of the pools is compromised. If a pool goes down then the block production rate slows proportionally until it comes back up. Which pool one mines with becomes a matter of politics.</p>
</div>
<div class="section" id="reasons-to-not-randomly-select-representatives-from-all-users">
<h3>Reasons to not randomly select representatives from all users<a class="headerlink" href="#reasons-to-not-randomly-select-representatives-from-all-users" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>High probability they are not online.</li>
<li>Attackers would gain control proportional to their stake, without any peer review.</li>
<li>Without any mining at all, the generation of a random number in a decentralized manner is impossible and thus an attacker could control the random number generation.</li>
</ul>
</div>
</div>
<div class="section" id="scalability">
<h2>Scalability<a class="headerlink" href="#scalability" title="Permalink to this headline">¶</a></h2>
<p>Assuming a fixed validation cost per transaction and a fixed fee per transaction, there is a limit to the amount of decentralization that can take place. Assuming the validation cost exactly equals the fee, a network is completely centralized and can only afford one validator. Assuming the fee is 100x the cost of validation, the network can support 100 validators.</p>
<a class="reference internal image-reference" href="../_images/Scalability.png"><img alt="Green is Income, Yellow is Profit, Blue is Cost" class="align-center" src="../_images/Scalability.png" style="width: 660px;" /></a>
<p>Systems like Nxt and Peercoin will have excessive fees if they intend to allow everyone to be a validator and earn fees at scale. What this means for Nxt and Peercoin is that anyone with less than 1% stake cannot validate profitably unless their fees are higher than our DPOS chain. If these chains assume 100 delegates is too centralized and start promoting they have 1000 validators, then their fees must be 10x those of DPOS. If such a chain grew to be the size of Bitcoin ($10 B) then only those with $1M worth of coin could validate profitably and most would consider that an elite club. If they reduce the minimum stake to be a validator to $1000, then their fees would be 10,000 times higher than DPOS.</p>
<p>Developers of DPOS assume that everyone with less than the amount required to validate won&#8217;t participate. Also assumed is a &#8220;reasonable&#8221; distribution of wealth. It&#8217;s clear that unless alternate chains have unusually high fees, there will only be a handful of people with enough stake to validate profitably.</p>
<p>In conclusion, the only way for POS to work efficiently is to delegate. In the case of Nxt, they can pool their stake by some means and ultimately this will end up like DPOS prior to approval voting with a variable number of delegates. Delegates wouldn&#8217;t actually receive any income as with mining pools because the validation expenses will consume the vast majority of the transaction fees.</p>
<p>The end result is that decentralization has a cost proportional to the number of validators and that costs do not disappear. At scale, these costs will centralize any system that does not support delegation. This kind of centralization should be designed as part of the system from the beginning so that it can be properly managed and controlled by the users, instead of evolving in some ad hoc manner as an unintended consequence.</p>
</div>
<div class="section" id="role-of-delegates">
<h2>Role of Delegates<a class="headerlink" href="#role-of-delegates" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>A witness is an authority that is allowed to produce and broadcast blocks.</li>
<li>Producing a block consists of collecting transactions of the P2P network and signing it with the witness&#8217; signing private key.</li>
<li>A witness&#8217; spot in the round is assigned randomly at the end of the previous block</li>
</ul>
</div>
<div class="section" id="how-to-become-a-delegate">
<h2>How to become a delegate<a class="headerlink" href="#how-to-become-a-delegate" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="tutorials/witness-create.html"><em>Howto Become an Active Witness</em></a></p>
</div>
<div class="section" id="voting-algorithm">
<h2>Voting Algorithm<a class="headerlink" href="#voting-algorithm" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-do-i-get-votes">
<h3>How do I get &#8220;votes?&#8221;<a class="headerlink" href="#how-do-i-get-votes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Persuade others to give upvotes to your witness</li>
<li>When another user gives an upvote to your (and possibly other) delegates</li>
<li>A user can give an upvote for more than one witness. As a result all upvoted witnesse get a vote</li>
<li>Convince proxies (that vote on behalf of their followers) to vote for you</li>
</ul>
</div>
<div class="section" id="why-use-only-upvotes">
<h3>Why use only upvotes?<a class="headerlink" href="#why-use-only-upvotes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Giving only upvotes, and allowing multiple votes per share, is called <strong>Approval Voting</strong>, and comes with several advantages over the old <em>delegation</em> voting.</li>
<li>No downvotes are needed, which not only simplifies usability but also reduces code and complexity.</li>
</ul>
</div>
<div class="section" id="how-are-votes-counted">
<h3>How are &#8216;votes&#8217; counted?<a class="headerlink" href="#how-are-votes-counted" title="Permalink to this headline">¶</a></h3>
<p>Once every <em>maintenance interval</em>, all votes are recounted and the corresponding result takes effect.</p>
</div>
<div class="section" id="is-there-an-anti-vote">
<h3>Is there an anti-vote?<a class="headerlink" href="#is-there-an-anti-vote" title="Permalink to this headline">¶</a></h3>
<p>Not any more. After discovering <a class="reference external" href="https://bitsharestalk.org/index.php?topic=5164.msg67657#msg67657">emski&#8217;s attack</a> the developers decided to use <strong>Approval Voting</strong>.</p>
</div>
</div>
<div class="section" id="disincentives-for-attacks">
<h2>Disincentives for Attacks<a class="headerlink" href="#disincentives-for-attacks" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>By choosing not to produce a block, a witness risks getting fired and they lose guaranteed profits in the future.</li>
<li>A dishonest delegate would only fail to produce a block if they were sure to win something from it</li>
<li>If a lottery only payed out 50% to a jackpot (giving the other 50% to charity) then the most this dishonest delegate could do is break even.</li>
<li>Witnesses can&#8217;t sign invalid blocks as the block needs confirmation by the other witnesses as well</li>
</ul>
</div>
<div class="section" id="how-many-witnesses-are-securing-the-network">
<h2>How many witnesses are securing the network<a class="headerlink" href="#how-many-witnesses-are-securing-the-network" title="Permalink to this headline">¶</a></h2>
<p>This is totally in the hands of the shareholders. If the majority votes for 50 witnesses, then 50 witnesses will be used. If the shareholders only vote for 20, so be it. The minimum possible witness count is 11.</p>
</div>
<div class="section" id="dpos-infographic">
<h2>DPOS Infographic<a class="headerlink" href="#dpos-infographic" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../_images/DPOS-infographic.jpg"><img alt="Green is Income, Yellow is Profit, Blue is Cost" class="align-center" src="../_images/DPOS-infographic.jpg" style="width: 660px;" /></a>
</div>
<div class="section" id="sources-and-discussions">
<h2>Sources and Discussions<a class="headerlink" href="#sources-and-discussions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://bitsharestalk.org/index.php?topic=5164.msg67657#msg67657">https://bitsharestalk.org/index.php?topic=5164.msg67657#msg67657</a></li>
<li><a class="reference external" href="https://bitsharestalk.org/index.php?topic=5205.0">https://bitsharestalk.org/index.php?topic=5205.0</a></li>
<li><a class="reference external" href="https://github.com/BitShares/bitshares_toolkit/wiki/Delegated-Proof-of-Stake">https://github.com/BitShares/bitshares_toolkit/wiki/Delegated-Proof-of-Stake</a></li>
<li><a class="reference external" href="https://bitsharestalk.org/index.php?topic=4984.0">https://bitsharestalk.org/index.php?topic=4984.0</a></li>
<li><a class="reference external" href="https://bitsharestalk.org/index.php?topic=4927.0">https://bitsharestalk.org/index.php?topic=4927.0</a></li>
<li><a class="reference external" href="https://bitsharestalk.org/index.php?topic=4869.0">https://bitsharestalk.org/index.php?topic=4869.0</a></li>
<li><a class="reference external" href="https://bitsharestalk.org/index.php?topic=4853.0">https://bitsharestalk.org/index.php?topic=4853.0</a></li>
<li><a class="reference external" href="https://bitsharestalk.org/index.php?topic=4836.0">https://bitsharestalk.org/index.php?topic=4836.0</a></li>
<li><a class="reference external" href="https://bitsharestalk.org/index.php?topic=4714.0">https://bitsharestalk.org/index.php?topic=4714.0</a></li>
</ul>
</div>
</div>


  </div>
 </div>

 <script>var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>
 <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
 </body>
</html>
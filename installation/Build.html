



<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Building from Sources</title>

    <!-- CSS -->
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css' rel='stylesheet'>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href='../_static/main.css' rel='stylesheet'>
    <link href='../_static/style.css' rel='stylesheet'>
    <link href='../_static/doxygen.css' rel='stylesheet'>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

    <!-- Sphinx search -->
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <!-- Transifex -->
    <script type="text/javascript">
      window.liveSettings = {
        api_key: "bbf87af0641e4bbf89c98088d48e0449",
      };
    </script>
    <script type="text/javascript" src="http://cdn.transifex.com/live.js"></script>

    <!-- title card -->
    <link  href='../_static/title-card.css' rel='stylesheet'>
    <script src='../_static/script.js'></script>
    
    <!-- Sphinx search -->
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Graphene Technical Documentation  documentation"
          href="../_static/opensearch.xml"/>

    <!-- Meta -->
    <meta content="Graphene Documentation" property="og:site_name">
    <meta content="Graphene Documentation" property="og:title">
    <meta content="website" property="og:type">
    <meta content="Graphene Documentation" name="description">
    <meta content="Graphene Documentation" property="og:description">
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68381245-1', 'auto');
  ga('send', 'pageview');

</script>

 </head>
 <body class='no-literate'>


 <div class='title-area title-card' style='background-image: url(https://bitshares.org/images/bg.jpg)'>
   <div class='in'>
     <div class='headline'>
       <h1>Building from Sources</h1>
 
     </div>
   </div>
 </div>

 <div class='header'>
   <div class='left navlinks'>
    
        <div class="top">
         <div class="title">top</div>
         <span><a class="uplink" href="../index.html">Contents</a></span>
        </div>

   </div>
   <!--
    <div class='right'>
<div id="searchbox" style="display: none" role="search">
 <form class="search" action="../search.html" method="get">
   <input type="text" name="q" />
   <input type="submit" value="Go" />
   <input type="hidden" name="check_keywords" value="yes" />
   <input type="hidden" name="area" value="default" />
 </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
   </div>
   -->
 </div>

 <div class='content-root'>
  <!-- menu bar -->
  <div class='menubar'>
   <div class='section'>
    <a href="../"><img src="../_static/grphn-logo.svg" width="48" /></a>
       <!--<a class='big button' href='#' target='_blank'>Download</a>-->
   </div>
   <div class='menu section'>
    <div id="toc">
      <h3>Table Of Contents</h3>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="../bitshares/index.html">BitShares 2.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../muse/index.html">MUSE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/index.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Graphene API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../blockchain/index.html">Blockchain Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespaces/index.html">Namespaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testnet/index.html">Testnets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Frequently Asked Questions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../meta/index.html">Meta</a></li>
</ul>

    </div>
   </div>
   <div class='bottom section'>
   <!--
     <a href='https://github.com/cryptonomex/graphene'>View on GitHub</a><br>
     <a href='https://github.com/cryptonomex/graphene/blob/master/README.md' target='_blank'>See .md source</a>
   -->
   </div>
  </div>
  <div class='content'>
   
  <div class="section" id="building-from-sources">
<h1>Building from Sources<a class="headerlink" href="#building-from-sources" title="Permalink to this headline">¶</a></h1>
<div class="section" id="downloading-the-sources">
<h2>Downloading the sources<a class="headerlink" href="#downloading-the-sources" title="Permalink to this headline">¶</a></h2>
<p>The sources can be downloaded from github as described
<a class="reference internal" href="Sources.html"><em>here</em></a>.</p>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<div class="section" id="development-toolkit">
<h3>Development Toolkit<a class="headerlink" href="#development-toolkit" title="Permalink to this headline">¶</a></h3>
<p>The following dependencies were necessary for a clean install of Ubuntu 14.04
LTS:</p>
<div class="highlight-sh"><div class="highlight"><pre>sudo apt-get install gcc-4.9 g++-4.9 cmake make <span class="se">\</span>
                     libbz2-dev libdb++-dev libdb-dev <span class="se">\</span>
                     libssl-dev openssl libreadline-dev <span class="se">\</span>
                     autoconf libtool git
</pre></div>
</div>
</div>
<div class="section" id="boost-1-57">
<h3>Boost 1.57<a class="headerlink" href="#boost-1-57" title="Permalink to this headline">¶</a></h3>
<p>The Boost which ships with Ubuntu 15.04 is too old.  You need to download the
Boost tarball for Boost 1.57.0 (Note, 1.58.0 requires C++14 and will not build
on Ubuntu LTS; this requirement was an accident, see <a class="reference external" href="http://boost.2283326.n4.nabble.com/1-58-1-bugfix-release-necessary-td4674686.html">this mailing list post</a>).</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">BOOST_ROOT</span><span class="o">=</span><span class="nv">$HOME</span>/opt/boost_1_57_0
sudo apt-get update
sudo apt-get install autotools-dev build-essential <span class="se">\</span>
                     g++ libbz2-dev libicu-dev python-dev
wget -c <span class="s1">&#39;http://sourceforge.net/projects/boost/files/boost/1.57.0/boost_1_57_0.tar.bz2/download&#39;</span><span class="se">\</span>
     -O boost_1_57_0.tar.bz2
sha256sum boost_1_57_0.tar.bz2
<span class="c"># &quot;910c8c022a33ccec7f088bd65d4f14b466588dda94ba2124e78b8c57db264967&quot;</span>
tar xjf boost_1_57_0.tar.bz2
<span class="nb">cd </span>boost_1_57_0/
./bootstrap.sh <span class="s2">&quot;--prefix=</span><span class="nv">$BOOST_ROOT</span><span class="s2">&quot;</span>
./b2 install
</pre></div>
</div>
</div>
<div class="section" id="qt-5-5">
<h3>QT 5.5<a class="headerlink" href="#qt-5-5" title="Permalink to this headline">¶</a></h3>
<p>Qt 5.5 is a dependency if you wish to build <cite>light_client</cite>.  Building it from
source requires the following dependencies on Ubuntu LTS:</p>
<div class="highlight-sh"><div class="highlight"><pre>sudo apt-get install libxcb1 libxcb1-dev libx11-xcb1 libx11-xcb-dev <span class="se">\</span>
                     libxcb-keysyms1 libxcb-keysyms1-dev libxcb-image0 libxcb-image0-dev <span class="se">\</span>
                     libxcb-shm0 libxcb-shm0-dev libxcb-icccm4 libxcb-icccm4-dev libxcb-sync1 <span class="se">\</span>
                     libxcb-sync-dev
</pre></div>
</div>
<p>Qt 5.5 can be built as follows:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">QT_ROOT</span><span class="o">=</span><span class="nv">$HOME</span>/opt/qt5.5.0

wget http://download.qt.io/official_releases/qt/5.5/5.5.0/single/qt-everywhere-opensource-src-5.5.0.tar.gz
sha256sum qt-everywhere-opensource-src-5.5.0.tar.gz
<span class="c"># &quot;bf3cfc54696fe7d77f2cf33ade46c2cc28841389e22a72f77bae606622998e82&quot;</span>
tar xzf qt-everywhere-opensource-src-5.5.0.tar.gz
<span class="nb">cd </span>qt-everywhere-opensource-src-5.5.0
./configure -prefix <span class="s2">&quot;</span><span class="nv">$QT_ROOT</span><span class="s2">&quot;</span> -opensource -nomake tests
make <span class="c"># -j4</span>
make install
</pre></div>
</div>
<p>Next we need to tell <cite>cmake</cite> where to find them.  If you have ever run CMake in
this tree before, we must first delete some leftovers:</p>
<div class="highlight-sh"><div class="highlight"><pre>make clean
rm -f CMakeCache.txt
find . -name CMakeFiles <span class="p">|</span> xargs rm -Rf
</pre></div>
</div>
<p>To actually run <cite>cmake</cite> we now need the following parameters:</p>
<div class="highlight-sh"><div class="highlight"><pre>cmake -DCMAKE_PREFIX_PATH<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$QT_ROOT</span><span class="s2">&quot;</span> <span class="se">\</span>
      -DCMAKE_MODULE_PATH<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$QT_ROOT</span><span class="s2">/lib/cmake/Qt5Core&quot;</span> <span class="se">\</span>
      -DQT_QMAKE_EXECUTABLE<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$QT_ROOT</span><span class="s2">/bin/qmake&quot;</span> -DBUILD_QT_GUI<span class="o">=</span>TRUE <span class="se">\</span>
       -DGRAPHENE_EGENESIS_JSON<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$GENESIS_JSON</span><span class="s2">&quot;</span> <span class="se">\</span>
       -DBOOST_ROOT<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$BOOST_ROOT</span><span class="s2">&quot;</span> -DCMAKE_BUILD_TYPE<span class="o">=</span>Debug   .
<span class="nb">cd</span> ..
</pre></div>
</div>
</div>
</div>
<div class="section" id="building-bitshares">
<h2>Building BitShares<a class="headerlink" href="#building-bitshares" title="Permalink to this headline">¶</a></h2>
<p>After downloading the BitShares sources according to <a class="reference internal" href="Sources.html"><em>the download
page</em></a>, we can run <code class="docutils literal"><span class="pre">cmake</span></code> for configuration and compile with
<code class="docutils literal"><span class="pre">make</span></code>:</p>
<div class="highlight-sh"><div class="highlight"><pre>cmake -DBOOST_ROOT<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$BOOST_ROOT</span><span class="s2">&quot;</span> -DCMAKE_BUILD_TYPE<span class="o">=</span>Release .
make
</pre></div>
</div>
<p>Note that the environmental variable <code class="docutils literal"><span class="pre">$BOOST_ROOT</span></code> should point to your
install directory of boost if you have installed it manually.</p>
</div>
<div class="section" id="distribution-specific-settings">
<h2>Distribution Specific Settings<a class="headerlink" href="#distribution-specific-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ubuntu-14-04">
<h3>Ubuntu 14.04<a class="headerlink" href="#ubuntu-14-04" title="Permalink to this headline">¶</a></h3>
<p>As <code class="docutils literal"><span class="pre">g++-4.9</span></code> isn&#8217;t available in 14.04 LTS, you need to do this first:</p>
<div class="highlight-sh"><div class="highlight"><pre>sudo add-apt-repository ppa:ubuntu-toolchain-r/test
sudo apt-get update
</pre></div>
</div>
<p>If you get build failures due to abi incompatibilities, just use gcc 4.9</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">CC</span><span class="o">=</span>gcc-4.9 <span class="nv">CXX</span><span class="o">=</span>g++-4.9 cmake .
</pre></div>
</div>
</div>
<div class="section" id="ubuntu-15-04">
<h3>Ubuntu 15.04<a class="headerlink" href="#ubuntu-15-04" title="Permalink to this headline">¶</a></h3>
<p>Ubuntu 15.04 uses gcc 5, which has the c++11 ABI as default, but the boost
libraries were compiled with the cxx11 ABI (this is an issue in many distros).
If you get build failures due to abi incompatibilities, just use gcc 4.9:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">CC</span><span class="o">=</span>gcc-4.9 <span class="nv">CXX</span><span class="o">=</span>g++-4.9 cmake .
</pre></div>
</div>
</div>
</div>
</div>


  </div>
 </div>

 <script>var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>
 <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
 </body>
</html>
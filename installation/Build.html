



<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Build Process</title>

    <!-- CSS -->
    <link  href='../_static/main.css' rel='stylesheet'>
    <link  href='../_static/style.css' rel='stylesheet'>
    <link  href='../_static/doxygen.css' rel='stylesheet'>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

    <!-- Sphinx search -->
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script src='../_static/script.js'></script>

    <!-- title card -->
    <link  href='../_static/title-card.css' rel='stylesheet'>
    <script src='../_static/title-card.js'></script>
    
    <!-- Sphinx search -->
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Graphene/BitShares 2.0 Technical Documentation  documentation"
          href="../_static/opensearch.xml"/>

    <!-- Meta -->
    <meta content="Graphene Documentation" property="og:site_name">
    <meta content="Graphene Documentation" property="og:title">
    <meta content="website" property="og:type">
    <meta content="Graphene Documentation" name="description">
    <meta content="Graphene Documentation" property="og:description">
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68381245-1', 'auto');
  ga('send', 'pageview');

</script>

 </head>
 <body class='no-literate'>

 <div class='title-area title-card' style='background-image: url(https://bitshares.org/images/bg.jpg)'>
   <div class='in'>
     <div class='headline'>
       <h1>Graphene/BitShares 2.0 Technical Documentation</h1>
       <p>Build Process</p>
       <p style="margin-top: 3em;"><img src="../_static/learn.svg" width="124" /><p>
     </div>
   </div>
 </div>

 <div class='header'>
   <div class='left'>
    
        «&#160;&#160;<a href="Sources.html">Sources</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="Upgrades.html">Upgrading from Sources</a>&#160;&#160;»

   </div>
 </div>

 <div class='content-root'>
  <!-- menu bar -->
  <div class='menubar'>
   <div class='section'>
    <img src="../_static/grphn-logo.svg" width="48" />
       <!--<a class='big button' href='#' target='_blank'>Download</a>-->
   </div>
   <div class='menu section'>
    <div id="toc">
      <h3>Table Of Contents</h3>
      <ul>
<li><a class="reference internal" href="#">Build Process</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#boost-1-57">Boost 1.57</a></li>
<li><a class="reference internal" href="#qt-5-5">QT 5.5</a></li>
<li><a class="reference internal" href="#building-bitshares-graphene">Building BitShares/Graphene</a></li>
<li><a class="reference internal" href="#distribution-specific-settings">Distribution Specific Settings</a></li>
</ul>
</li>
</ul>

    </div>
   </div>
   <div class='bottom section'>
   <!--
     <a href='https://github.com/cryptonomex/graphene'>View on GitHub</a><br>
     <a href='https://github.com/cryptonomex/graphene/blob/master/README.md' target='_blank'>See .md source</a>
   -->
   </div>
  </div>
  <div class='content'>
   
  <div class="section" id="build-process">
<h1>Build Process<a class="headerlink" href="#build-process" title="Permalink to this headline">¶</a></h1>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>The following dependencies were necessary for a clean install of Ubuntu 14.04
LTS::</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install gcc-4.9 g++-4.9 cmake make \
                     libbz2-dev libdb++-dev libdb-dev \
                     libssl-dev openssl libreadline-dev \
                     autoconf libtool git
</pre></div>
</div>
</div>
<div class="section" id="boost-1-57">
<h2>Boost 1.57<a class="headerlink" href="#boost-1-57" title="Permalink to this headline">¶</a></h2>
<p>The Boost which ships with Ubuntu 15.04 is too old.  You need to download the
Boost tarball for Boost 1.57.0 (Note, 1.58.0 requires C++14 and will not build
on Ubuntu LTS; this requirement was an accident, see <a class="reference external" href="http://boost.2283326.n4.nabble.com/1-58-1-bugfix-release-necessary-td4674686.html">this mailing list post</a>).:</p>
<div class="highlight-python"><div class="highlight"><pre>BOOST_ROOT=$HOME/opt/boost_1_57_0
sudo apt-get update
sudo apt-get install autotools-dev build-essential \
                     g++ libbz2-dev libicu-dev python-dev
wget -c &#39;http://sourceforge.net/projects/boost/files/boost/1.57.0/boost_1_57_0.tar.bz2/download&#39;\
     -O boost_1_57_0.tar.bz2
sha256sum boost_1_57_0.tar.bz2
# &quot;910c8c022a33ccec7f088bd65d4f14b466588dda94ba2124e78b8c57db264967&quot;
tar xjf boost_1_57_0.tar.bz2
cd boost_1_57_0/
./bootstrap.sh &quot;--prefix=$BOOST_ROOT&quot;
./b2 install
</pre></div>
</div>
</div>
<div class="section" id="qt-5-5">
<h2>QT 5.5<a class="headerlink" href="#qt-5-5" title="Permalink to this headline">¶</a></h2>
<p>Qt 5.5 is a dependency if you wish to build <cite>light_client</cite>.  Building it from
source requires the following dependencies on Ubuntu LTS::</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install libxcb1 libxcb1-dev libx11-xcb1 libx11-xcb-dev \
                     libxcb-keysyms1 libxcb-keysyms1-dev libxcb-image0 libxcb-image0-dev \
                     libxcb-shm0 libxcb-shm0-dev libxcb-icccm4 libxcb-icccm4-dev libxcb-sync1 \
                     libxcb-sync-dev
</pre></div>
</div>
<p>Qt 5.5 can be built as follows::</p>
<div class="highlight-python"><div class="highlight"><pre>QT_ROOT=$HOME/opt/qt5.5.0

wget http://download.qt.io/official_releases/qt/5.5/5.5.0/single/qt-everywhere-opensource-src-5.5.0.tar.gz
sha256sum qt-everywhere-opensource-src-5.5.0.tar.gz
# &quot;bf3cfc54696fe7d77f2cf33ade46c2cc28841389e22a72f77bae606622998e82&quot;
tar xzf qt-everywhere-opensource-src-5.5.0.tar.gz
cd qt-everywhere-opensource-src-5.5.0
./configure -prefix &quot;$QT_ROOT&quot; -opensource -nomake tests
make # -j4
make install
</pre></div>
</div>
<p>Next we need to tell <cite>cmake</cite> where to find them.  If you have ever run CMake in
this tree before, we must first delete some leftovers::</p>
<div class="highlight-python"><div class="highlight"><pre>make clean
rm -f CMakeCache.txt
find . -name CMakeFiles | xargs rm -Rf
</pre></div>
</div>
<p>To actually run <cite>cmake</cite> we now need the following parameters::</p>
<div class="highlight-python"><div class="highlight"><pre>cmake -DCMAKE_PREFIX_PATH=&quot;$QT_ROOT&quot; \
      -DCMAKE_MODULE_PATH=&quot;$QT_ROOT/lib/cmake/Qt5Core&quot; \
      -DQT_QMAKE_EXECUTABLE=&quot;$QT_ROOT/bin/qmake&quot; -DBUILD_QT_GUI=TRUE \
       -DGRAPHENE_EGENESIS_JSON=&quot;$GENESIS_JSON&quot; \
       -DBOOST_ROOT=&quot;$BOOST_ROOT&quot; -DCMAKE_BUILD_TYPE=Debug   .
cd ..
</pre></div>
</div>
</div>
<div class="section" id="building-bitshares-graphene">
<h2>Building BitShares/Graphene<a class="headerlink" href="#building-bitshares-graphene" title="Permalink to this headline">¶</a></h2>
<p>The sources are located at <a class="reference external" href="http://github.com">github</a> and can be downloaded
with <cite>git</cite>.:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone https://github.com/ FIXME
</pre></div>
</div>
<p>Since the repository makes use of so called <em>submodules</em> which are repositories
on their own, we need to refresh those.:</p>
<div class="highlight-python"><div class="highlight"><pre>git submodule update --init --recursive

cd graphene
git submodule update --init --recursive
cmake -DBOOST_ROOT=&quot;$BOOST_ROOT&quot; -DCMAKE_BUILD_TYPE=Debug .
make
</pre></div>
</div>
</div>
<div class="section" id="distribution-specific-settings">
<h2>Distribution Specific Settings<a class="headerlink" href="#distribution-specific-settings" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><strong>Ubuntu 15.04</strong>:
Ubuntu 15.04 uses gcc 5, which has the c++11 ABI as default, but the boost
libraries were compiled with the cxx11 ABI (this is an issue in many distros).
If you get build failures due to abi incompatibilities, just use gcc 4.9:</p>
<div class="highlight-python"><div class="highlight"><pre>CC=gcc-4.9 CXX=g++-4.9 cmake .
</pre></div>
</div>
</li>
</ul>
</div>
</div>


  </div>
 </div>

 <script>var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>
 </body>
</html>